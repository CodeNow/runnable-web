{{view "app_user" model=user}}
{{view "header_view" model=user context=.}}

<section id="main" class="container">
  <div id="project-details" class="row">
    <div class="col-sm-9">
      <h2 class="page-title clearfix">
        {{view "vote_button" model=image}}
        {{view "runnable_title" model=image}}
      </h2>
      {{view "runnable_description" model=image}}
      <div class="main-controls">
        {{view "run_button" model=container collection=implementations containerid=container.id}}
        {{#if permissions.edit}}
        {{view "edit_button" model=container containerid=container.id}}
        {{/if}}
        {{view "fork_button" collection=defaultFiles model=container}}
      </div>
    </div>
    {{view "runnable_owner" model=image.owner model_id=image.owner.id model_name='user' created=image.attributes.created image=image}}
  </div>
  <div class="row">
    <div class="col-sm-9">
      {{view "code_editor" context=. editmode=false model=image}}
      {{view "terminal" model=container}}
    </div>
    <ul id="sidebar" class="col-sm-3">
      {{#if container.attributes.specificationId}}
      <li class="services">
      <h3 class="widget-title">Services</h3>
        {{view "service" model=container collection=specifications editmode=false}}
      </li>
      {{/if}}
      {{#if image.attributes.tags}}{{#if image.attributes.tags.length}}
      <li class="tags">
        <h3 class="widget-title">Tags</h3>
        <ul class="clearfix">
          {{#each image.attributes.tags}}
          <li>
          {{view "tag_link" name=name}}
          </li>
          {{/each}}
        </ul>
      </li>
      {{/if}}{{/if}}
      {{#if related.length}}
      <li class="related-code">
        <h3 class="widget-title">Related Code</h3>
        <ul>
          {{#each related.models}}
          {{view "runnable_item_small" model=.}}
          {{/each}}
        </ul>
      </li>
      {{/if}}
    </ul>
  </div>
</section>

{{view "footer_view" model=user context=.}}
